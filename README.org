#+title: cl-slack
Slack API from CommonLisp

* how to use
#+begin_src bash
#brew install roswell
git clone https://github.com/m0cchi/cl-slack
cd cl-slack
ln -s $(pwd)/cl-slack.asd $HOME/.roswell/ALL/ALL/quicklisp/quicklisp/
#+begin_end

* sample code
#+begin_src CL
#!/bin/sh
#|-*- mode:lisp -*-|#
#|
exec ros -Q -- $0 "$@"
|#

(ql:quickload :dexador :silent t)

(require 'cl-slack.chat "./chat.lisp")


(defun main (&rest argv)
  (declare (ignorable argv))
  (setq token "xxxx-xxx-xxx-xxx")
  (setq channel "C000000")
  (setq client (make-instance 'cl-slack.core:slack-client
                              :token token))
  (cl-slack.chat:post-message client
                              channel
                              (car argv)
                              '("as_user" "true")))
;; ./post.ros MessageText
#+begin_end
